<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Automated Birthday Wisher | J0hnMilton</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.109.0">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/x-icon" href="https://J0hnMilt0n.github.io/favicon.png">
<meta name="keywords" content="being lazy">
<meta name="description" content="Objectives: Send email using python code.
Libraries: smtplib, datetime, pandas
Code: Automated Birthday Wisher
How email works? For example, we have alice …">
<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/all.css" /><link rel="stylesheet" href="/css/katex.css" crossorigin="anonymous">
<script defer src="/js/katex.js"  integrity="sha384-HELAAZU8xvHgfT/8z4Mhmu+E2z3oBrMEuywaMh/CEd5uTZIDSct7TEaX+S43+dOi" crossorigin="anonymous"></script>
<script defer src="/js/auto-render.js" integrity="sha384-0QrOZ8WIARJUoT5pH7Iuzi7iq0mXUXLF9yj5ZvYxTkMRv1zcaPQiOQ9ksHYbKw7M" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script>
document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body, { delimiters: [ {left: "$$", right: "$$", display: true}, {left: "$", right: "$", display: false} ] }); });
</script>




<meta property="og:title" content="Automated Birthday Wisher" />
<meta property="og:description" content="Objectives: Send email using python code.
Libraries: smtplib, datetime, pandas
Code: Automated Birthday Wisher
How email works? For example, we have alice and bob as sender and recipient separately.
sender: alice@gmail.com
recipient: bob@yahoo.com
alice@gmail.com -&gt; Gmail Mail Server -&gt; Yahoo Mail Server -&gt; bob&#39;s computer Gmail Mail Server will recieve alice&rsquo;s message and Yahoo Mail Server will store the message until bob logs on to yahoo.com which download the message. This process relies on a protocol called &ldquo;SMTP&rdquo;(Simple Mail Transfer Protocol)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://J0hnMilt0n.github.io/post/auto-birthday-wisher/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-05-21T13:02:40-04:00" />
<meta property="article:modified_time" content="2022-05-21T13:02:40-04:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Automated Birthday Wisher"/>
<meta name="twitter:description" content="Objectives: Send email using python code.
Libraries: smtplib, datetime, pandas
Code: Automated Birthday Wisher
How email works? For example, we have alice and bob as sender and recipient separately.
sender: alice@gmail.com
recipient: bob@yahoo.com
alice@gmail.com -&gt; Gmail Mail Server -&gt; Yahoo Mail Server -&gt; bob&#39;s computer Gmail Mail Server will recieve alice&rsquo;s message and Yahoo Mail Server will store the message until bob logs on to yahoo.com which download the message. This process relies on a protocol called &ldquo;SMTP&rdquo;(Simple Mail Transfer Protocol)."/>

<meta itemprop="name" content="Automated Birthday Wisher">
<meta itemprop="description" content="Objectives: Send email using python code.
Libraries: smtplib, datetime, pandas
Code: Automated Birthday Wisher
How email works? For example, we have alice and bob as sender and recipient separately.
sender: alice@gmail.com
recipient: bob@yahoo.com
alice@gmail.com -&gt; Gmail Mail Server -&gt; Yahoo Mail Server -&gt; bob&#39;s computer Gmail Mail Server will recieve alice&rsquo;s message and Yahoo Mail Server will store the message until bob logs on to yahoo.com which download the message. This process relies on a protocol called &ldquo;SMTP&rdquo;(Simple Mail Transfer Protocol)."><meta itemprop="datePublished" content="2022-05-21T13:02:40-04:00" />
<meta itemprop="dateModified" content="2022-05-21T13:02:40-04:00" />
<meta itemprop="wordCount" content="435">
<meta itemprop="keywords" content="being lazy," />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1501417588866126"
     crossorigin="anonymous"></script>
</head>
<body>
<header>
<div id="avatar">
<a href="https://J0hnMilt0n.github.io/"><img src="/img/coder.png" alt="J0hnMilton"></a>
</div>
<div id="titletext">
<h2 id="title"><a href="https://J0hnMilt0n.github.io/">J0hnMilton</a></h2>
</div>
<div id="title-description">
<p id="subtitle">Reverse Engineer | Android Modder</p>
<div id="social">
<nav><ul>
<li><a href="https://github.com/J0hnMilt0n"><i title="Github" class="icons fab fa-github"></i></a></li>
<li><a><i title="Switch Dark Mode" class="dark-mode icons fas fa-moon"></i></a></li>
</ul></nav>
</div>
</div>
<div id="mainmenu">
<nav>
<ul>
<li><a href="/">Home</a></li>
<li><a href="/tags">Tags</a></li>
<li><a href="/categories">Categories</a></li>
<li><a href="/bio">Bio</a></li>
</ul>
</nav>
</div>
</header>
<main>
<div class="post">
<article>
<div class="post-header">
<div class="meta">
<div class="date">
<span class="day">21</span>
<span class="rest">May 2022</span>
</div>
</div>
<div class="matter">
<h1 class="title">Automated Birthday Wisher</h1>
<p class="post-meta">
<span class="post-meta">

&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes


 
&nbsp;| &nbsp;

<i class="fas fa-book"></i>&nbsp;435&nbsp;words




</span>

</p>
</div>
</div>
<div class="markdown">
<p>Objectives: Send email using python code.</p>
<p>Libraries: smtplib, datetime, pandas</p>
<p>Code: <a href="https://github.com/J0hnMilt0n/100-Days-of-Code/tree/main/32-58_Intermediate%2B/AutomatedBirthdayWisher" target="_blank">Automated Birthday Wisher</a></p>
<hr>
<h2 id="how-email-works">How email works?</h2>
<p>For example, we have alice and bob as sender and recipient separately.</p>
<p>sender: <a href="mailto:alice@gmail.com">alice@gmail.com</a></p>
<p>recipient: <a href="mailto:bob@yahoo.com">bob@yahoo.com</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>alice@gmail.com -&gt; Gmail Mail Server -&gt; Yahoo Mail Server -&gt; bob&#39;s computer
</span></span></code></pre></div><p>Gmail Mail Server will recieve alice&rsquo;s message and Yahoo Mail Server will store the message until bob logs on to yahoo.com which download the message. This process relies
on a protocol called &ldquo;SMTP&rdquo;(<strong>S</strong>imple <strong>M</strong>ail <strong>T</strong>ransfer <strong>P</strong>rotocol).</p>
<p>Imagine these mail servers as post office and bob&rsquo;s computer being the mail box. SMTP is the postman who handles the mail.</p>
<h2 id="lets-get-started">Let&rsquo;s Get Started</h2>
<p>In python, we&rsquo;ll be using <a href="https://docs.python.org/3/library/smtplib.html" target="_blank">smtplib</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span><span style="color:#f92672">import</span> smtplib
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>my_email <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;alice@gmail.com&#34;</span>
</span></span><span style="display:flex;"><span>password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;P@ssw0rd!&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>connection <span style="color:#f92672">=</span> smtplib<span style="color:#f92672">.</span>SMTP(<span style="color:#e6db74">&#34;smtp.gmail.com&#34;</span>) <span style="color:#75715e"># google SMTP information for your email provider</span>
</span></span><span style="display:flex;"><span>connection<span style="color:#f92672">.</span>starttls() <span style="color:#75715e"># use TLS to secure our connection to email server</span>
</span></span><span style="display:flex;"><span>connection<span style="color:#f92672">.</span>login(user<span style="color:#f92672">=</span>my_email, password<span style="color:#f92672">=</span>password)
</span></span><span style="display:flex;"><span>connection<span style="color:#f92672">.</span>sendmail(from_addr<span style="color:#f92672">=</span>my_email, to_addrs<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;bob@yahoo.com&#34;</span>, msg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Hello&#34;</span>)
</span></span><span style="display:flex;"><span>connection<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><p>You might get errors. Because by default, gmail doesn&rsquo;t let anybody access your email account. In order to use python code sends the email, we have to lower the security
boundry. <strong>So, please create a new email account. DON&rsquo;T USE PRIMARY EMAIL ACCOUNT!</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Username(upper right)
</span></span><span style="display:flex;"><span>    -&gt; Manage your Google Account 
</span></span><span style="display:flex;"><span>    -&gt; Security 
</span></span><span style="display:flex;"><span>    -&gt; Signing in to Google --&gt; &#34;Use your phone to sign in&#34; and &#34;2-Step Verification&#34; are Off 
</span></span><span style="display:flex;"><span>    -&gt; Less secure app access --&gt; On
</span></span></code></pre></div><p>After you successfully sent the email, you probably notice that it goes to the spam folder. That&rsquo;s because it doesn&rsquo;t have a subject headline.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span><span style="color:#75715e"># update this line</span>
</span></span><span style="display:flex;"><span>connection<span style="color:#f92672">.</span>sendmail(
</span></span><span style="display:flex;"><span>    from_addr<span style="color:#f92672">=</span>my_email,
</span></span><span style="display:flex;"><span>    to_addrs<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;bob@yahoo.com&#34;</span>
</span></span><span style="display:flex;"><span>    msg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Subject:Hello</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">This is the body of my email.&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>Just like file opening, we can update the code to avoid using close().</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> smtplib<span style="color:#f92672">.</span>SMTP(<span style="color:#e6db74">&#34;smtp.gmail.com&#34;</span>) <span style="color:#66d9ef">as</span> connection:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># connection stuff</span>
</span></span></code></pre></div><h2 id="set-time-schedule">Set time schedule</h2>
<p>Try datetime module.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span><span style="color:#f92672">import</span> datetime <span style="color:#66d9ef">as</span> dt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>now <span style="color:#f92672">=</span> dt<span style="color:#f92672">.</span>datetime<span style="color:#f92672">.</span>now() <span style="color:#75715e"># current date and time</span>
</span></span><span style="display:flex;"><span>year <span style="color:#f92672">=</span> now<span style="color:#f92672">.</span>year
</span></span><span style="display:flex;"><span>month <span style="color:#f92672">=</span> now<span style="color:#f92672">.</span>month
</span></span><span style="display:flex;"><span>day_of_week <span style="color:#f92672">=</span> now<span style="color:#f92672">.</span>weekday()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>date_of_birth <span style="color:#f92672">=</span> dt<span style="color:#f92672">.</span>datetime(year<span style="color:#f92672">=</span><span style="color:#ae81ff">1970</span>, month<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, day<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><hr>
<h2 id="practice-monday-motivational-quotes">practice: Monday Motivational Quotes</h2>
<ul>
<li>Use the datetime module to obtain the current day of the week.</li>
<li>Open the quotes.txt file and obtain a list of quotes.</li>
<li>Use the random module to pick a random quote from your list of quotes.</li>
<li>Use the smtplib to send the email to yourself.</li>
</ul>
<h2 id="challenge-automated-birthday-wisher">challenge: Automated Birthday Wisher</h2>
<ol>
<li>
<p>Put contacts into birthday.csv file.</p>
</li>
<li>
<p>Check if today matches a birthday in the birthday.csv file.</p>
</li>
</ol>
<blockquote>
<p>Use tuple for today&rsquo;s month and day.</p>
</blockquote>
<blockquote>
<p>Use pandas to read the birthdays.csv file.</p>
</blockquote>
<blockquote>
<p>Create a dictionary for contacts&rsquo; birthday.</p>
</blockquote>
<blockquote>
<p>Check if it matches today&rsquo;s month/day.</p>
</blockquote>
<ol start="3">
<li>
<p>If there is a match, pick a random letter.</p>
</li>
<li>
<p>Send the letter.</p>
</li>
</ol>
<h2 id="move-it-to-cloud">Move it to Cloud</h2>
<p>Upload it to a server and create a cron job.</p>
<hr>

</div>
<div class="tags">
<div class="taxosfloating_left">
<p>Categories</p>
</div>
<div class="termsfloating_right">
<p>
<a href="/categories/projects/">projects</a>
</p>
</div>
<div class="clearit"></div>
<div class="tags">
<div class="taxosfloating_left">
<p>Tags</p>
</div>
<div class="termsfloating_right">
<p>
<a href="/tags/being-lazy/">being-lazy</a>
</p>
</div>
<div class="clearit"></div>
</div>
</article>
</div>
</main>
<footer>
© <a href='J0hnMilt0n.github.io' id='linked'>J0hnMilt0n </a><script type='text/javascript'>var creditsyear = new Date();document.write(creditsyear.getFullYear());</script>
</footer><script src="/js/dark-mode.js"></script>

</body>
</html>
